{"triggers":[],"nodes":[{"uid":"95800b30-111e-400e-a864-b1cd67be50ef","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Este task inicia genera los directorios necesarios para la ejecucion"}}]},{"uid":"56358a65-e900-4bdd-a834-4cd914313336","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"8a08b28f-dc21-4420-bad4-392ade94bbad","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Variables de inicio para modo Desarrollo"}}]},{"uid":"6b18a207-68a5-4116-af66-3c1b035590cd","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Definir Nombre BOT"}}]},{"uid":"b4e0185a-2dcc-4fdf-bf3c-efceb622b2f8","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"NOMBRE BOT"}}],"returnTo":{"type":"VARIABLE","variableName":"vBotName"}},{"uid":"2a198db3-0cbe-4b9a-bd0c-54b0e8d364af","commandName":"toString","packageName":"Datetime","disabled":false,"attributes":[{"name":"source","value":{"type":"VARIABLE","packageName":"System","variableName":"Date"}},{"name":"selectPattern","value":{"type":"STRING","string":"CUSTOM"}},{"name":"patternInput","value":{"type":"STRING","string":"dd-MM-yyyy"}}],"returnTo":{"type":"VARIABLE","variableName":"vFechaEjecucion"}},{"uid":"aa66197c-622b-42fe-b34c-c67f54e08bbe","commandName":"vbscript.commands.openScript","packageName":"VBScript","disabled":false,"attributes":[{"name":"session","value":{"type":"STRING","string":"GetDocumentsFolder"}},{"name":"scriptOption","value":{"type":"STRING","string":"FILE"}},{"name":"file","value":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/Trazabilidad/Assets/Scripts/GetDocumentsFolder.vbs"}}]},{"uid":"ca9df087-9988-4410-aca7-97513dcfe134","commandName":"vbscript.commands.executeFunction","packageName":"VBScript","disabled":false,"attributes":[{"name":"session","value":{"type":"STRING","string":"GetDocumentsFolder"}},{"name":"functionName","value":{"type":"STRING","string":"GetDocumentsFolder"}}],"returnTo":{"type":"VARIABLE","variableName":"dirDocumentos"}},{"uid":"7960fe90-ce41-4ba2-bf0d-c1f8e85814d4","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$dirDocumentos$\\$vBotName$\\$vFechaEjecucion$"}}],"returnTo":{"type":"VARIABLE","variableName":"dirTemp"}},{"uid":"0e658781-1318-4bda-8948-1bf610ebc0eb","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$dirTemp$\\Procesados"}}],"returnTo":{"type":"VARIABLE","variableName":"dirProcesados"}},{"uid":"d40ede92-6bbc-481d-bd4e-4fa4b967aba4","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$dirTemp$\\Pendientes"}}],"returnTo":{"type":"VARIABLE","variableName":"dirPendientes"}},{"uid":"c16895a1-0530-4625-8f2b-d77b557e3644","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$dirTemp$\\Logs"}}],"returnTo":{"type":"VARIABLE","variableName":"dirLog"}},{"uid":"d8c42de3-ca8e-444c-ab2d-f0350b63e35a","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$dirLog$\\$vBotName$ $vFechaEjecucion$.txt"}}],"returnTo":{"type":"VARIABLE","variableName":"vLog"}}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"BOOLEAN","expression":"$isProductionMode$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"BOOLEAN","boolean":false}}],"value":{"type":"CONDITIONAL","conditionalName":"booleanVariable","packageName":"Boolean"}}]},{"uid":"88c23541-869d-4a21-a271-82cc59024e73","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Inicio variables de inicio del Sub Task"}}]},{"uid":"17788b04-9720-42b2-9112-d28217ba853d","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Definir Nombre Task"}}]},{"uid":"04eb3654-2728-4af3-8040-4d7f2b59159e","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"Creacion directorios"}}],"returnTo":{"type":"VARIABLE","variableName":"vTaskName"}},{"uid":"dd20b01e-47ab-4723-989f-4a5e5e259193","commandName":"toString","packageName":"Number","disabled":false,"attributes":[{"name":"input","value":{"type":"NUMBER","expression":"$vTaskCounter$"}},{"name":"numFormatDigits","value":{"type":"NUMBER","number":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"vStringTaskCounter"}},{"uid":"594aa502-ecaa-446a-aecd-04d5e0768887","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Fin variables de inicio del Sub Task"}}]},{"uid":"ea55897c-32c5-43ea-a784-b64f246a0a7d","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"//////// Inicio Task ////////"}}]},{"uid":"4299e213-12bc-4cdb-aafe-da5c56839129","commandName":"try","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"487c7db4-a9a2-4f29-b6c3-80a2e0fb3a64","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"e9bde324-80ca-4ac1-8ad9-74ffdab48ec5","commandName":"createFolder","packageName":"Folder","disabled":false,"attributes":[{"name":"folderPath","value":{"type":"STRING","expression":"$dirDocumentos$\\$vBotName$"}},{"name":"isOverwrite","value":{"type":"BOOLEAN","boolean":false}}]}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"folderPath","value":{"type":"STRING","expression":"$dirDocumentos$\\$vBotName$"}},{"name":"waitTimeout","value":{"type":"NUMBER","number":"0"}}],"value":{"type":"CONDITIONAL","conditionalName":"folderDoesNotExists","packageName":"Folder"}}]},{"uid":"482f21d5-31ef-430d-8923-6685bca4db1a","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"eab731d3-d9d0-4dff-8b20-9b9753fefb2b","commandName":"createFolder","packageName":"Folder","disabled":false,"attributes":[{"name":"folderPath","value":{"type":"STRING","expression":"$dirTemp$"}},{"name":"isOverwrite","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"e304eaf9-49c5-4ea4-86b3-8f9c56a9937a","commandName":"createFolder","packageName":"Folder","disabled":false,"attributes":[{"name":"folderPath","value":{"type":"STRING","expression":"$dirProcesados$"}},{"name":"isOverwrite","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"31c4392e-ddab-4cc0-b84f-a74d5dd664ce","commandName":"createFolder","packageName":"Folder","disabled":false,"attributes":[{"name":"folderPath","value":{"type":"STRING","expression":"$dirPendientes$"}},{"name":"isOverwrite","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"eddd0026-2d32-4272-8f83-dfaf1f83efce","commandName":"createFolder","packageName":"Folder","disabled":false,"attributes":[{"name":"folderPath","value":{"type":"STRING","expression":"$dirLog$"}},{"name":"isOverwrite","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"1d0b487a-aada-4fa5-86d4-047ee692cfc9","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$vLog$"}},{"name":"logContent","value":{"type":"STRING","expression":"INFO- [$vTaskName$] Task iniciado ($vStringTaskCounter$)"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"ef2158c4-e248-4b4a-9f72-8bd56c4574af","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$vLog$"}},{"name":"logContent","value":{"type":"STRING","expression":"INFO- [$vTaskName$] Carpetas de proceso generadas"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"bdd54c7c-10c7-4416-961f-88d3bd60b343","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$vLog$"}},{"name":"logContent","value":{"type":"STRING","expression":"INFO- [$vTaskName$] $dirTemp$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"9aced3f9-cd28-4f3d-a5bc-3780e6315d88","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$vLog$"}},{"name":"logContent","value":{"type":"STRING","expression":"INFO- [$vTaskName$] $dirProcesados$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"0163e15a-42ab-4241-82ad-67325b873d34","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$vLog$"}},{"name":"logContent","value":{"type":"STRING","expression":"INFO- [$vTaskName$] $dirPendientes$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"cda4ff46-ddde-4dc0-8fef-100d23344d66","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$vLog$"}},{"name":"logContent","value":{"type":"STRING","expression":"INFO- [$vTaskName$] $dirLog$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]}],"branches":[{"uid":"e7e7a655-78d8-46df-aafa-15f323113ea9","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"16cefd32-483e-4be5-9a58-75d124ff40e7","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$vLog$"}},{"name":"logContent","value":{"type":"STRING","expression":"INFO- [$vTaskName$] Carpetas de proceso encontradas"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"a44b70fd-19d9-4db8-86a3-e8c5de17ee5f","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$vLog$"}},{"name":"logContent","value":{"type":"STRING","expression":"INFO- [$vTaskName$] $dirTemp$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]}]}],"attributes":[{"name":"condition","attributes":[{"name":"folderPath","value":{"type":"STRING","expression":"$dirTemp$"}},{"name":"waitTimeout","value":{"type":"NUMBER","number":"0"}}],"value":{"type":"CONDITIONAL","conditionalName":"folderDoesNotExists","packageName":"Folder"}}]}],"branches":[{"uid":"88eef227-5597-48c9-9d43-5b095253f583","commandName":"catch","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"e54fbc3a-4295-44d8-a84f-86d09c77e3a1","commandName":"toString","packageName":"Number","disabled":false,"attributes":[{"name":"input","value":{"type":"NUMBER","expression":"$vErrorLineNumber$"}},{"name":"numFormatDigits","value":{"type":"NUMBER","number":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"vErrorMsg"}},{"uid":"598695a1-7bfd-41b3-aad1-6520f430f2fa","commandName":"assign","packageName":"Boolean","disabled":false,"attributes":[{"name":"source","value":{"type":"STRING","string":"constant"}},{"name":"userDefined","value":{"type":"STRING","string":"true"}}],"returnTo":{"type":"VARIABLE","variableName":"vError"}},{"uid":"3b2cb534-1c62-4bdb-8b8e-e9df89cb2a1f","commandName":"throw","packageName":"ErrorHandler","disabled":false,"attributes":[{"name":"message","value":{"type":"STRING","expression":"$vErrorMsg$ en linea $vStringErrorLineNumber$"}},{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}]},{"uid":"fd15a082-f784-4c80-b518-634086085331","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Al no haber carpeta de procesos, no hay log. Enviar correo con infromacion del error"}}]},{"uid":"f31caf81-c32c-4868-9492-0dfb90efd344","commandName":"sendMail","packageName":"Email","disabled":true,"attributes":[{"name":"toAddress","value":{"type":"STRING","expression":"$@vMail$"}},{"name":"cc","value":{"type":"STRING","string":""}},{"name":"bcc","value":{"type":"STRING","string":""}},{"name":"subject","value":{"type":"STRING","expression":"Bot $vBotName$ no pudo finalizar"}},{"name":"ensureAttachmentsExist","value":{"type":"BOOLEAN","boolean":false}},{"name":"bodyFormat","value":{"type":"STRING","string":"PLAINTEXT"}},{"name":"message","value":{"type":"STRING","expression":"Bot $vBotName$ no pudo generar las carpetas correspondientes al proceso.\nError en linea $vStringErrorLineNumber$ del Task $vTaskName$\n$vErrorMsg$"}},{"name":"goGreen","value":{"type":"BOOLEAN","boolean":true}},{"name":"serverType","value":{"type":"STRING","string":"EMAIL_SERVER"}},{"name":"useSecureConnection","value":{"type":"BOOLEAN","boolean":false}},{"name":"requiresAuthentication","value":{"type":"BOOLEAN","boolean":false}},{"name":"username","value":{"type":"CREDENTIAL","credential":{"name":"","lockerName":"","attributeName":""}}},{"name":"securedPassword","value":{"type":"CREDENTIAL","credential":{"name":"","lockerName":"","attributeName":""}}}]}],"attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"vErrorMsg"},"errorLineNumber":{"type":"VARIABLE","variableName":"vErrorLineNumber"}}}]}],"variables":[{"name":"prompt-assignment","description":"A variable you can use for assignments","type":"STRING","subtype":"UNDEFINED","readOnly":false,"input":false,"output":false},{"name":"isProductionMode","description":"Modo producción desde Main Task","type":"BOOLEAN","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"BOOLEAN","boolean":true}},{"name":"vFechaEjecucion","description":"Fecha de ejecucion del Task","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"dirDocumentos","description":"Path /Documents TE ODIO NUEVA VERSION TE ODIOOOO","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"dirLogIndividual","description":"Directorio del log de cada documento","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"vLog","description":"Log del proceso","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"vLogIndividual","description":"Log del documento","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"dirProcesados","description":"Directorio documentos procesados del dia","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"dirPendientes","description":"Directorio documentos no procesados del dia","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"dirTemp","description":"Directorio documentos en ejecucion/cola","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"vBotName","description":"Nombre del Bot en ejecucion","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"dirLog","description":"Directorio de la carpeta de Logs","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"vTaskCounter","description":"Cantidad de inicios de este Subtask","type":"NUMBER","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"NUMBER","number":"1"}},{"name":"vStringTaskCounter","description":"vTaskCounter (INT) Pasado a String","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"vTaskName","description":"Nombre del Task","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"vError","description":"Error del Task","type":"BOOLEAN","readOnly":false,"input":true,"output":true,"defaultValue":{"type":"BOOLEAN","boolean":false}},{"name":"vErrorLineNumber","description":"Error en Linea:","type":"NUMBER","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"NUMBER","number":"0"}},{"name":"vErrorMsg","description":"Error Mensaje","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"vStringErrorLineNumber","description":"String de vStringErrorLineNumber","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}}],"breakpoints":[],"packages":[{"name":"Boolean","version":"2.1.0-20201126-165109"},{"name":"Comment","version":"2.3.0-20201126-165125"},{"name":"Datetime","version":"2.2.0-20201126-165136"},{"name":"Email","version":"3.2.0-20201120-062604"},{"name":"ErrorHandler","version":"2.3.0-20201126-165148"},{"name":"Folder","version":"3.1.0-20201126-165154"},{"name":"If","version":"2.1.0-20201126-165201"},{"name":"LogToFile","version":"2.2.0-20201126-165428"},{"name":"Number","version":"2.1.0-20201126-165444"},{"name":"String","version":"3.1.0-20201126-165909"},{"name":"System","version":"3.0.0-20200921-090225"},{"name":"VBScript","version":"2.4.0-20201208-065526"}],"workItemTemplateName":null}